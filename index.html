<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Splide Carousel from Google Drive</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/css/splide.min.css">
    <style>
        .splide__slide img {
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>

    <div id="splide" class="splide">
        <div class="splide__track">
            <ul id="imageList" class="splide__list"></ul>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/js/splide.min.js"></script>
    <script>
        const folderId = '1BkhtZiiAOHU6oUdwWz8FkIBmf5c2zUtC';  // Your Google Drive folder ID
        const apiKey = 'AIzaSyDEAwuiivGrx8x3a1V_Lcm-rubsJV2ohhQ';  // Your API key
        const imageList = document.getElementById('imageList');

        // Function to fetch images from Google Drive folder
        function fetchImagesFromDrive() {
            const url = `https://www.googleapis.com/drive/v3/files?q='${folderId}'+in+parents&key=${apiKey}&fields=files(id,name,mimeType)`;

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    data.files.forEach(file => {
                        if (file.mimeType.startsWith('image/')) {
                            const imgSrc = `https://drive.google.com/uc?export=view&id=${file.id}`;
                            const li = document.createElement('li');
                            li.classList.add('splide__slide');
                            li.innerHTML = `<img src="${imgSrc}" alt="${file.name}">`;
                            imageList.appendChild(li);
                        }
                    });

                    // Initialize SplideJS after images have been loaded
                    new Splide('#splide').mount();
                })
                .catch(error => console.error('Error fetching images:', error));
        }

        // Call the function to fetch and display images
        fetchImagesFromDrive();
    </script>

</body>
</html>
